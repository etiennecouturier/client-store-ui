<div class="clients-container">
  <mat-card class="example-card client-details-container" *ngFor="let visit of client.visits">
    <mat-card-content >
      <mat-list>
        <div class="personal-info-line"><span>Név:&nbsp;</span>{{client.name}}</div>
        <div class="personal-info-line"><span>Szül. év:&nbsp;</span>{{client.dob}}</div>
        <div class="personal-info-line"><span>Tel:&nbsp;</span>{{client.tel | phone}}</div>
        <div class="personal-info-line"><span>Email:&nbsp;</span>{{client.email}}</div>
      </mat-list>
    </mat-card-content>
  </mat-card>
</div>

<div class="clients-container">
  <mat-card class="example-card" *ngFor="let visit of client.visits">
    <div class="card-header">
      <mat-form-field class="date">
        <input matInput [(ngModel)]="visit.date" [matDatepicker]="picker" [disabled]="!edit">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <div mat-card-avatar class="example-header-image"></div>
    </div>
    <mat-card-content class="flex-container">
      <div class="flex-child">
        <div class="flex-line red">dioptria</div>
        <mat-form-field class="flex-line">
          <input matInput type="text" [(ngModel)]="visit.rightEye.dioptria" [disabled]="!edit"/>
        </mat-form-field>
        <mat-form-field class="flex-line">
          <input matInput type="text" [(ngModel)]="visit.leftEye.dioptria" [disabled]="!edit"/>
        </mat-form-field>
      </div>
      <div class="flex-child">
        <div class="flex-line red">cilinder</div>
        <mat-form-field class="flex-line">
          <input matInput type="text" [(ngModel)]="visit.rightEye.cilinder" [disabled]="!edit"/>
        </mat-form-field>
        <mat-form-field class="flex-line">
          <input matInput type="text" [(ngModel)]="visit.leftEye.cilinder" [disabled]="!edit"/>
        </mat-form-field>
      </div>
      <div class="flex-child">
        <div class="flex-line red">fok</div>
        <mat-form-field class="flex-line">
          <input matInput type="text" [(ngModel)]="visit.rightEye.fok" [disabled]="!edit"/>
        </mat-form-field>
        <mat-form-field class="flex-line">
          <input matInput type="text" [(ngModel)]="visit.leftEye.fok" [disabled]="!edit"/>
        </mat-form-field>
      </div>
      <div class="flex-child">
        <div class="flex-line red">vizus</div>
        <mat-form-field class="flex-line">
          <input matInput type="text" [(ngModel)]="visit.rightEye.vizus" [disabled]="!edit"/>
        </mat-form-field>
        <mat-form-field class="flex-line">
          <input matInput type="text" [(ngModel)]="visit.leftEye.vizus" [disabled]="!edit"/>
        </mat-form-field>
      </div>
    </mat-card-content>
    <div>{{visit.notes}}</div>
    <mat-card-actions>
      <button mat-icon-button color="accent" (click)="edit=!edit" *ngIf="!edit">
        <mat-icon aria-label="Edit">edit</mat-icon>
      </button>
      <button mat-icon-button color="accent" (click)="edit=!edit" *ngIf="edit">
        <mat-icon aria-label="Edit">check</mat-icon>
      </button>

      <button mat-icon-button color="accent" *ngIf="!edit">
        <mat-icon aria-label="Delete">delete</mat-icon>
      </button>
      <button mat-icon-button color="accent" (click)="edit=false" *ngIf="edit">
        <mat-icon aria-label="Delete">cancel</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>

</div>
